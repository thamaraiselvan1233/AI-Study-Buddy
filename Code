//HTML

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Study Buddy</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

<!-- SPLASH -->
<div class="splash">
  <div class="splash-box">
    <h1>AI Study Buddy</h1>
    <p>Your personal learning assistant</p>
    <div class="loader"></div>
  </div>
</div>

<!-- CHAT -->
<div class="chat-container">
  <div class="header">
    <span>AI Study Buddy</span>
    <button class="refresh-btn" onclick="refreshChat()">⟳</button>
  </div>

  <div id="chat" class="chat-box"></div>

  <div class="input-bar">
    <label class="upload-btn">
      <span>+</span>
      <input type="file" accept="image/*" id="imageInput" />
    </label>

    <input
      id="msg"
      type="text"
      placeholder="Type your message..."
      autocomplete="off"
    />

    <button class="send-btn" onclick="sendMsg()">Send</button>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>



//Css




:root {
  --bg: #020617;
  --panel: #020617;
  --border: #1e293b;
  --user: #2563eb;
  --bot: #1e293b;
  --accent: #22c55e;
  --text: #e5e7eb;
}

/* ---------- BASE FIX ---------- */
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
}

* {
  box-sizing: border-box;
}

body {
  font-family: "Segoe UI", Arial, sans-serif;
  background: var(--bg);
  overflow: hidden;
}

/* ---------- SPLASH ---------- */
.splash {
  position: fixed;
  inset: 0;
  background: var(--bg);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  animation: splashOut 3s forwards;
}

.splash-box {
  text-align: center;
  color: white;
}

.splash-box h1 {
  font-size: 34px;
  font-weight: 600;
}

.splash-box p {
  color: #94a3b8;
  font-size: 14px;
}

.loader {
  margin: 25px auto 0;
  width: 36px;
  height: 36px;
  border: 3px solid #1e293b;
  border-top: 3px solid var(--accent);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* ---------- CHAT ---------- */
.chat-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  max-width: 900px;
  margin: auto;
  background: var(--panel);
}

.header {
  padding: 14px;
  color: white;
  font-size: 18px;
  border-bottom: 1px solid var(--border);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.refresh-btn {
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text);
  padding: 6px 10px;
  border-radius: 8px;
  font-size: 16px;
  cursor: pointer;
}

.chat-box {
  flex: 1;
  padding: 12px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* ---------- MESSAGES ---------- */
.msg {
  max-width: 85%;
  padding: 12px 14px;
  border-radius: 14px;
  font-size: 14px;
  line-height: 1.4;
  animation: slideUp 0.2s ease;
}

.user {
  align-self: flex-end;
  background: var(--user);
  color: white;
  border-bottom-right-radius: 4px;
}

.bot {
  align-self: flex-start;
  background: var(--bot);
  color: var(--text);
  border-bottom-left-radius: 4px;
}

/* ---------- INPUT BAR (KEY FIX) ---------- */
.input-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px;
  border-top: 1px solid var(--border);
  background: var(--panel);
  position: sticky;
  bottom: 0;
}

.input-bar input[type="text"] {
  flex: 1;
  padding: 12px;
  font-size: 14px;
  border-radius: 10px;
  border: none;
  outline: none;
}

.upload-btn {
  width: 42px;
  height: 42px;
  border-radius: 10px;
  background: #1e293b;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.upload-btn input {
  display: none;
}

.upload-btn span {
  font-size: 18px;
  color: white;
}

.send-btn {
  padding: 12px 16px;
  border-radius: 10px;
  border: none;
  background: var(--accent);
  font-weight: 600;
  cursor: pointer;
}

/* ---------- TYPING ---------- */
.typing {
  display: flex;
  gap: 5px;
}

.dot {
  width: 6px;
  height: 6px;
  background: #94a3b8;
  border-radius: 50%;
  animation: blink 1.4s infinite both;
}

.dot:nth-child(2) { animation-delay: .2s; }
.dot:nth-child(3) { animation-delay: .4s; }

/* ---------- ANIMATIONS ---------- */
@keyframes slideUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes blink {
  0%,80%,100% { opacity: .3; }
  40% { opacity: 1; }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes splashOut {
  0% { opacity: 1; }
  70% { opacity: 1; }
  100% { opacity: 0; visibility: hidden; }
}

/* ---------- MOBILE ---------- */
@media (max-width: 600px) {
  .msg {
    max-width: 90%;
    font-size: 13px;
  }
}




//Script.js




const chatBox = document.getElementById("chat");
const input = document.getElementById("msg");
const imageInput = document.getElementById("imageInput");

/* ---------- ADD MESSAGE ---------- */
function addMsg(text, type) {
  const div = document.createElement("div");
  div.className = `msg ${type}`;
  div.innerText = text;
  chatBox.appendChild(div);
  chatBox.scrollTop = chatBox.scrollHeight;
}

/* ---------- TYPING INDICATOR ---------- */
function addTyping() {
  const div = document.createElement("div");
  div.className = "msg bot";
  div.innerHTML = `
    <div class="typing">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>`;
  chatBox.appendChild(div);
  chatBox.scrollTop = chatBox.scrollHeight;
  return div;
}

/* ---------- SEND MESSAGE ---------- */
async function sendMsg() {
  const text = input.value.trim();
  if (!text) return;

  addMsg(text, "user");
  input.value = "";

  const typingEl = addTyping();

  try {
    const res = await fetch(
      "https://cloud.flowiseai.com/api/v1/prediction/798ed2b6-b1d6-4640-9a28-777131d750c5",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          question: text
        })
      }
    );

    const data = await res.json();
    typingEl.remove();

    addMsg(data.text || "Sorry, I couldn't understand that.", "bot");

  } catch (err) {
    typingEl.remove();
    addMsg("Server error. Please try again.", "bot");
    console.error(err);
  }
}

/* ---------- ENTER KEY ---------- */
input.addEventListener("keydown", (e) => {
  if (e.key === "Enter") sendMsg();
});

/* ---------- REFRESH CHAT ---------- */
function refreshChat() {
  chatBox.innerHTML = "";
  addMsg(
    "Hi! I’m your AI Study Buddy. Who can I help you today?",
    "bot"
  );
}

/* ---------- DEFAULT MESSAGE ---------- */
window.onload = () => {
  setTimeout(() => {
    addMsg(
      "Hi! I’m your AI Study Buddy. Who can I help you today?",
      "bot"
    );
  }, 500);
};


